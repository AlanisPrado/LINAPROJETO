<div class="lista-container">
  <div class="list-header">
    <div>
      <h1>Lista de Compras</h1>
      <p class="subtitle">Ingredientes necessÃ¡rios para as refeiÃ§Ãµes selecionadas na semana</p>
    </div>
    <div class="header-actions">
      <div class="item-count-badge">{{ totalItens }} itens</div>
      <button class="btn-baixar" (click)="baixarLista()">
        <span>â¬‡</span>
        Baixar Lista
      </button>
    </div>
  </div>

  <div *ngIf="categorias.length === 0" class="empty-list-card">
    <div class="empty-icon">ğŸ›’</div>
    <h2>Lista de compras vazia</h2>
    <p>
      Selecione refeiÃ§Ãµes no cardÃ¡pio para gerar sua lista de compras automaticamente
    </p>
  </div>

  <div *ngIf="categorias.length > 0" class="categorias-grid">
    <div class="categoria-card" *ngFor="let categoria of categorias">
      <div class="categoria-header">
        <span class="categoria-icone">{{ categoria.icone }}</span>
        <h2 class="categoria-nome">{{ categoria.nome }}</h2>
        <span class="categoria-count">{{ categoria.itens.length }}</span>
      </div>
      <ul class="lista-itens">
        <li
          *ngFor="let item of categoria.itens; let i = index"
          class="item-lista"
          [ngClass]="{ 'marcado': item.marcado }"
        >
          <label class="item-checkbox">
            <input
              type="checkbox"
              [checked]="item.marcado"
              (change)="toggleItem(categorias.indexOf(categoria), i)"
            />
            <span class="item-nome">{{ item.nome }}</span>
            <span class="item-quantidade" *ngIf="item.quantidade > 1">(x{{ item.quantidade }})</span>
          </label>
        </li>
      </ul>
    </div>
  </div>
</div>
